{
    "$id": "failure_buffer_config.schema.json",
    "$schema": "https://json-schema.org/draft/2020-12/schema",
    "type": "object",
    "description": "If the connection to CDF goes down, the OPC UA extractor supports buffering data points and events in a local file. This is helpful if the connection is unstable, and the server does not provide its own historical data.",
    "unevaluatedProperties": false,
    "properties": {
        "enabled": {
            "type": "boolean",
            "description": "Set to `true` to enable the failure buffer.",
            "default": false
        },
        "datapoint-path": {
            "type": "string",
            "description": "Path to a binary file where data points are buffered. Buffering to a file is very fast, and can handle a large amount of data. The file will be created for you if it does not already exist.",
            "examples": [
                "buffer.bin"
            ]
        },
        "event-path": {
            "type": "string",
            "description": "Path to a binary file for storing events. Buffering to a file is very fast and can handle a large amount of data. The file will be created for you if it does not already exist. Must be different from `datapoint-path`."
        },
        "max-buffer-size": {
            "type": "integer",
            "description": "Set the maximum size in bytes of the buffer file. If the size of the file exceeds this number, no new datapoints or events will be written to their respective buffer files, and any further ephemeral data is lost. Note that if both datapoint and event buffers are enabled, the potential disk usage is twice this number."
        }
    }
}